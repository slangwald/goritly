// Generated by CoffeeScript 1.6.2
(function() {
  $(document).ready(function() {
    var loadSideBar;

    $('#charts-tabs a').click(function(e) {
      $(this).tab('show');
      window.location.hash = '#!' + this.hash;
      if ($(this).attr('data-chart') === 'bubble') {
        drawBubbleChart();
      }
      if ($(this).attr('data-chart') === 'line') {
        drawLineChart();
      }
      if ($(this).attr('data-chart') === 'bar') {
        return drawBarChart();
      }
    });
    loadSideBar = function() {
      return $('#sidebar').load('/websites/sidebar', function() {
        drawCalendar();
        $('.chzn-select').chosen();
        return $('#btn-filter').click(function(e) {
          e.preventDefault();
          return $.post("/websites/filter", $("#filter-form").serialize()).done(function(data) {
            $('#kpi-board').load('/websites/kpi');
            drawBubbleChart();
            drawLineChart();
            return drawBarChart();
          });
        });
      });
    };
    loadSideBar();
    $('.chzn-select').chosen();
    return $('#kpi-board').load('/websites/kpi');
  });

}).call(this);
